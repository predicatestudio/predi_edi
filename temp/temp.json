{
  "transaction_set_id": "850",
  "export_rules": {
    "trans_set_id": "transaction_set_id",
    "customer_ref_num": "components.customer_ref_num",
    "order_type": "components.order_type",
    "po_num": "components.po_num",
    "po_date": "components.po_date",
    "ship_to": "components.ship_to.id_code_qual",
    "no_deliver_after": "components.no_deliver_after",
    "no_deliver_before": "components.no_deliver_before",
    "sale_req_code": "components.sale_req_code",
    "seg_count": "components.seg_count",
    "trans_set_ctrl_num": "components.trans_set_ctrl_num",
    "trans_set_purpose_code": "components.trans_set_purpose_code",
    "line_item_count": "components.transaction_totals.line_item_count",
    "item_data": {
      "KEY": "item_data",
      "assigned_id": "components.assigned_id",
      "order_quant": "components.order_quant",
      "unit_price": "components.unit_price",
      "unit_price_basis_code": "components.unit_price_basis_code",
      "uom": "components.uom",
      "upc_ean_consumer_pack_code": "components.upc_ean_consumer_pack_code"
    }
  },

  "components": [
    {
      "type": "segment",
      "id": "st",
      "required": true,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "max_use": 1,
      "elements": [
        {
          "id": "trans_set_id",
          "required": true,
          "options": null,
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "trans_set_ctrl_num",
          "required": true,
          "options": null,
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        }
      ]
    },
    {
      "type": "segment",
      "id": "beg",
      "required": true,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "max_use": 1,
      "elements": [
        {
          "id": "trans_set_purpose_code",
          "required": true,
          "options": null,
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "order_type",
          "required": true,
          "options": null,
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "po_num",
          "required": true,
          "options": null,
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "",
          "required": false,
          "options": null,
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "po_date",
          "required": true,
          "options": null,
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        }
      ]
    },
    {
      "type": "segment",
      "id": "ref",
      "required": true,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "max_use": 0,
      "elements": [
        {
          "id": "ref_id_qualifier",
          "required": true,
          "options": "CR",
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "reference_id",
          "required": false,
          "options": null,
          "qualifier": "ref_id_qualifier",
          "quality": {
            "CR": "customer_ref_num"
          },
          "multiple": false,
          "discard": false
        }
      ]
    },
    {
      "type": "segment",
      "id": "ref",
      "required": false,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "max_use": 0,
      "elements": [
        {
          "id": "ref_id_qualifier",
          "required": true,
          "options": "PD",
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "reference_id",
          "required": false,
          "options": null,
          "qualifier": "ref_id_qualifier",
          "quality": {
            "CR": "promo_ref_num"
          },
          "multiple": false,
          "discard": false
        }
      ]
    },
    {
      "type": "segment",
      "id": "fob",
      "required": false,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "max_use": 0,
      "elements": [
        {
          "id": "ship_pay_method",
          "required": true,
          "options": [
            "bp",
            "cc",
            "df",
            "fo",
            "pp",
            "ps"
          ],
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "trans_terms_qual_code",
          "required": false,
          "options": "01",
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "trans_terms_code",
          "required": false,
          "options": [
            "cfr",
            "cif",
            "cip",
            "cpt",
            "daf",
            "ddp",
            "ddu",
            "exw",
            "fca",
            "fob"
          ],
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "loc_qual",
          "required": false,
          "options": "ov",
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "desc",
          "required": false,
          "options": null,
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        }
      ]
    },
    {
      "type": "segment",
      "id": "csh",
      "required": true,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "max_use": 5,
      "elements": [
        {
          "id": "sale_req_code",
          "required": false,
          "options": [
            "n",
            "y",
            "+"
          ],
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        }
      ]
    },
    {
      "type": "segment",
      "id": "dtm",
      "required": false,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "max_use": 10,
      "elements": [
        {
          "id": "dtm_qual",
          "required": true,
          "options": "063",
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "date",
          "required": false,
          "options": null,
          "qualifier": "dtm_qual",
          "quality": {
            "064": "no_deliver_after",
            "063": "no_deliver_before"
          },
          "multiple": false,
          "discard": false
        }
      ]
    },
    {
      "type": "segment",
      "id": "dtm",
      "required": false,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "max_use": 10,
      "elements": [
        {
          "id": "dtm_qual",
          "required": true,
          "options": "064",
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "date",
          "required": false,
          "options": null,
          "qualifier": "dtm_qual",
          "quality": {
            "064": "no_deliver_after",
            "063": "no_deliver_before"
          },
          "multiple": false,
          "discard": false
        }
      ]
    },
    {
      "type": "segment",
      "id": "pkg",
      "required": false,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "max_use": 10,
      "elements": [
        {
          "id": "item_desk_type",
          "required": false,
          "options": "F",
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "pack_characteristic_code",
          "required": false,
          "options": "CS",
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "desc",
          "required": false,
          "options": null,
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        }
      ]
    },
    {
      "type": "loop",
      "id": "n9",
      "required": true,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "repetition": 1000,
      "loop": [
        {
          "type": "segment",
          "id": "n9",
          "required": true,
          "export_key": null,
          "export_as": null,
          "delete_after": null,
          "max_use": 1,
          "elements": [
            {
              "id": "ref_id_qual",
              "required": true,
              "options": "L1",
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            },
            {
              "id": "ref_id",
              "required": false,
              "options": null,
              "qualifier": "ref_id_qual",
              "quality": {
                "L1": "letters_or_notes"
              },
              "multiple": false,
              "discard": false
            }
          ]
        },
        {
          "type": "segment",
          "id": "msg",
          "required": true,
          "export_key": null,
          "export_as": null,
          "delete_after": null,
          "max_use": 1000,
          "elements": [
            {
              "id": "message_text",
              "required": true,
              "options": null,
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            }
          ]
        }
      ],
      "name": "reference_id"
    },
    {
      "type": "loop",
      "id": "n1",
      "required": true,
      "export_key": "entity_id_code",
      "export_as": {
        "ST": "ship_to"
      },
      "delete_after": null,
      "repetition": 1,
      "loop": [
        {
          "type": "segment",
          "id": "n1",
          "required": true,
          "export_key": null,
          "export_as": null,
          "delete_after": null,
          "max_use": 1,
          "elements": [
            {
              "id": "entity_id_code",
              "required": true,
              "options": "ST",
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            },
            {
              "id": "",
              "required": false,
              "options": null,
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            },
            {
              "id": "id_code_qual",
              "required": true,
              "options": [
                "15",
                "92",
                "ZZ"
              ],
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            },
            {
              "id": "id_code",
              "required": true,
              "options": null,
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            }
          ]
        }
      ],
      "name": "name"
    },
    {
      "type": "loop",
      "id": "po1",
      "required": true,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "repetition": 100000,
      "loop": [
        {
          "type": "segment",
          "id": "po1",
          "required": true,
          "export_key": null,
          "export_as": null,
          "delete_after": null,
          "max_use": 1,
          "elements": [
            {
              "id": "assigned_id",
              "required": true,
              "options": null,
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            },
            {
              "id": "order_quant",
              "required": true,
              "options": null,
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            },
            {
              "id": "uom",
              "required": true,
              "options": [
                "CA",
                "EA"
              ],
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            },
            {
              "id": "unit_price",
              "required": true,
              "options": null,
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            },
            {
              "id": "unit_price_basis_code",
              "required": true,
              "options": [
                "PE",
                "RE"
              ],
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            },
            {
              "id": "prod_id_qual",
              "required": true,
              "options": [
                "BP",
                "EN",
                "IB",
                "UA",
                "UK",
                "UP",
                "VN"
              ],
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            },
            {
              "id": "prod_id",
              "required": true,
              "options": null,
              "qualifier": "prod_id_qual",
              "quality": {
                "BP": "buyers_part_num",
                "EN": "ean",
                "IB": "isbn",
                "UA": "upc_ean_case_code",
                "UK": "upc_ean_ship_container_code",
                "UP": "upc_ean_consumer_pack_code",
                "VN": "vendors_item_num"
              },
              "multiple": false,
              "discard": false
            }
          ]
        }
      ],
      "name": "item_data"
    },
    {
      "type": "loop",
      "id": "ctt",
      "required": true,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "repetition": 1,
      "loop": [
        {
          "type": "segment",
          "id": "ctt",
          "required": true,
          "export_key": null,
          "export_as": null,
          "delete_after": null,
          "max_use": 1,
          "elements": [
            {
              "id": "line_item_count",
              "required": true,
              "options": null,
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            },
            {
              "id": "hash_total",
              "required": true,
              "options": null,
              "qualifier": null,
              "quality": null,
              "multiple": false,
              "discard": false
            }
          ]
        }
      ],
      "name": "transaction_totals"
    },
    {
      "type": "segment",
      "id": "se",
      "required": true,
      "export_key": null,
      "export_as": null,
      "delete_after": null,
      "max_use": 1,
      "elements": [
        {
          "id": "seg_count",
          "required": true,
          "options": null,
          "qualifier": null,
          "quality": null,
          "multiple": false,
          "discard": false
        },
        {
          "id": "trans_set_ctrl_num",
          "required": true,
          "options": null,
          "qualifier": null,
          "quality": null,
          "multiple": true,
          "discard": false
        }
      ]
    }
  ]
}